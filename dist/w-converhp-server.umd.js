/*!
 * w-converhp-server v2.0.5
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("fs"),require("stream"),require("@hapi/hapi"),require("@hapi/inert"),require("worker_threads")):"function"==typeof define&&define.amd?define(["fs","stream","@hapi/hapi","@hapi/inert","worker_threads"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-converhp-server"]=e(t.fs,t.stream,t["@hapi/hapi"],t["@hapi/inert"],t.require$$0)}(this,(function(t,e,n,r,o){"use strict";var i=Array.isArray,c="object"==typeof global&&global&&global.Object===Object&&global,a="object"==typeof self&&self&&self.Object===Object&&self,u=c||a||Function("return this")(),g=u.Symbol,l=Object.prototype,s=l.hasOwnProperty,C=l.toString,f=g?g.toStringTag:void 0;var I=Object.prototype.toString;var A="[object Null]",p="[object Undefined]",h=g?g.toStringTag:void 0;function y(t){return null==t?void 0===t?p:A:h&&h in Object(t)?function(t){var e=s.call(t,f),n=t[f];try{t[f]=void 0;var r=!0}catch(t){}var o=C.call(t);return r&&(e?t[f]=n:delete t[f]),o}(t):function(t){return I.call(t)}(t)}function d(t){return null!=t&&"object"==typeof t}var v="[object Symbol]";function b(t){return"symbol"==typeof t||d(t)&&y(t)==v}var m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w=/^\w*$/;function Z(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var j="[object AsyncFunction]",G="[object Function]",K="[object GeneratorFunction]",x="[object Proxy]";function X(t){if(!Z(t))return!1;var e=y(t);return e==G||e==K||e==j||e==x}var W,_=u["__core-js_shared__"],S=(W=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"";var B=Function.prototype.toString;var V=/^\[object .+?Constructor\]$/,Y=Function.prototype,k=Object.prototype,N=Y.toString,J=k.hasOwnProperty,O=RegExp("^"+N.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function R(t){return!(!Z(t)||(e=t,S&&S in e))&&(X(t)?O:V).test(function(t){if(null!=t){try{return B.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function L(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return R(n)?n:void 0}var z=L(Object,"create");var H=Object.prototype.hasOwnProperty;var U=Object.prototype.hasOwnProperty;function F(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function T(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}F.prototype.clear=function(){this.__data__=z?z(null):{},this.size=0},F.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},F.prototype.get=function(t){var e=this.__data__;if(z){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return H.call(e,t)?e[t]:void 0},F.prototype.has=function(t){var e=this.__data__;return z?void 0!==e[t]:U.call(e,t)},F.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=z&&void 0===e?"__lodash_hash_undefined__":e,this};var P=Array.prototype.splice;function Q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Q.prototype.clear=function(){this.__data__=[],this.size=0},Q.prototype.delete=function(t){var e=this.__data__,n=T(e,t);return!(n<0)&&(n==e.length-1?e.pop():P.call(e,n,1),--this.size,!0)},Q.prototype.get=function(t){var e=this.__data__,n=T(e,t);return n<0?void 0:e[n][1]},Q.prototype.has=function(t){return T(this.__data__,t)>-1},Q.prototype.set=function(t,e){var n=this.__data__,r=T(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var E=L(u,"Map");function M(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function D(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}D.prototype.clear=function(){this.size=0,this.__data__={hash:new F,map:new(E||Q),string:new F}},D.prototype.delete=function(t){var e=M(this,t).delete(t);return this.size-=e?1:0,e},D.prototype.get=function(t){return M(this,t).get(t)},D.prototype.has=function(t){return M(this,t).has(t)},D.prototype.set=function(t,e){var n=M(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var $="Expected a function";function q(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError($);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var c=t.apply(this,r);return n.cache=i.set(o,c)||i,c};return n.cache=new(q.Cache||D),n}q.Cache=D;var tt,et,nt,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/\\(\\)?/g,it=(tt=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,o){e.push(r?o.replace(ot,"$1"):n||t)})),e},et=q(tt,(function(t){return 500===nt.size&&nt.clear(),t})),nt=et.cache,et),ct=it;var at=1/0,ut=g?g.prototype:void 0,gt=ut?ut.toString:void 0;function lt(t){if("string"==typeof t)return t;if(i(t))return function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(t,lt)+"";if(b(t))return gt?gt.call(t):"";var e=t+"";return"0"==e&&1/t==-at?"-0":e}function st(t){return null==t?"":lt(t)}function Ct(t,e){return i(t)?t:function(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!b(t))||w.test(t)||!m.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:ct(st(t))}var ft=1/0;function It(t){if("string"==typeof t||b(t))return t;var e=t+"";return"0"==e&&1/t==-ft?"-0":e}function At(t,e,n){var r=null==t?void 0:function(t,e){for(var n=0,r=(e=Ct(e,t)).length;null!=t&&n<r;)t=t[It(e[n++])];return n&&n==r?t:void 0}(t,e);return void 0===r?n:r}function pt(){let t,e,n=new Promise((function(){t=arguments[0],e=arguments[1]}));return n.resolve=t,n.reject=e,n}function ht(t){return"[object Object]"===Object.prototype.toString.call(t)}function yt(t){if(ht(t)){for(let e in t)return!0;return!1}return!1}function dt(t){return"[object String]"===Object.prototype.toString.call(t)}function vt(t){return!(!dt(t)||""===t)}var bt=/\s/;var mt=/^\s+/;function wt(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&bt.test(t.charAt(e)););return e}(t)+1).replace(mt,""):t}var Zt=NaN,jt=/^[-+]0x[0-9a-f]+$/i,Gt=/^0b[01]+$/i,Kt=/^0o[0-7]+$/i,xt=parseInt;function Xt(t){if("number"==typeof t)return t;if(b(t))return Zt;if(Z(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Z(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=wt(t);var n=Gt.test(t);return n||Kt.test(t)?xt(t.slice(2),n?2:8):jt.test(t)?Zt:+t}var Wt=1/0,_t=17976931348623157e292;function St(t){return t?(t=Xt(t))===Wt||t===-Wt?(t<0?-1:1)*_t:t==t?t:0:0===t?t:0}function Bt(t){var e=St(t),n=e%1;return e==e?n?e-n:e:0}function Vt(t){return t!=t}function Yt(t){let e=!1;if(vt(t))e=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(Vt(t))return!1;e=!0}return e}function kt(t){if(!Yt(t))return 0;return St(t)}function Nt(t){return!!Yt(t)&&(t=kt(t),"number"==typeof(e=t)&&e==Bt(e));var e}var Jt=u.isFinite,Ot=Math.min;var Rt=function(t){var e=Math[t];return function(t,n){if(t=Xt(t),(n=null==n?0:Ot(Bt(n),292))&&Jt(t)){var r=(st(t)+"e").split("e");return+((r=(st(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}("round"),Lt=Rt;function zt(t){if(!Yt(t))return 0;t=kt(t);let e=Lt(t);return"0"===String(e)?0:e}function Ht(t){if(!Nt(t))return!1;return zt(t)>=0}function Ut(t){return"[object Array]"===Object.prototype.toString.call(t)}function Ft(t){if(ht(t)){for(let e in t)return!1;return!0}return!1}function Tt(t){return!!function(t){return"[object Undefined]"===Object.prototype.toString.call(t)}(t)||(!!function(t){return"[object Null]"===Object.prototype.toString.call(t)}(t)||(!!Ft(t)||(!!function(t){return!(!dt(t)||""!==t)}(t)||(!!function(t){return!!Ut(t)&&0===t.length}(t)||!!Vt(t)))))}function Pt(t){return!!Ut(t)&&(0!==t.length&&(1!==t.length||!Tt(t[0])))}var Qt="[object Boolean]";function Et(t){return!0===(e=t)||!1===e||d(e)&&y(e)==Qt;var e}function Mt(t){let e,n=Object.prototype.toString.call(t);if(e="[object Promise]"===n,e)return!0;if("[object Function]"!==n)return!1;try{e="function"!=typeof t.subscribe&&"function"==typeof t.then}catch(t){}return e}var Dt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$t={};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,c){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||t,c),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function c(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,c=new Array(i);o<i;o++)c[o]=r[o].fn;return c},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,o,i,c){var a=n?n+t:t;if(!this._events[a])return!1;var u,g,l=this._events[a],s=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),s){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,c),!0}for(g=1,u=new Array(s-1);g<s;g++)u[g-1]=arguments[g];l.fn.apply(l.context,u)}else{var C,f=l.length;for(g=0;g<f;g++)switch(l[g].once&&this.removeListener(t,l[g].fn,void 0,!0),s){case 1:l[g].fn.call(l[g].context);break;case 2:l[g].fn.call(l[g].context,e);break;case 3:l[g].fn.call(l[g].context,e,r);break;case 4:l[g].fn.call(l[g].context,e,r,o);break;default:if(!u)for(C=1,u=new Array(s-1);C<s;C++)u[C-1]=arguments[C];l[g].fn.apply(l[g].context,u)}}return!0},a.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return c(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||r&&a.context!==r||c(this,i);else{for(var u=0,g=[],l=a.length;u<l;u++)(a[u].fn!==e||o&&!a[u].once||r&&a[u].context!==r)&&g.push(a[u]);g.length?this._events[i]=1===g.length?g[0]:g:c(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&c(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}({get exports(){return $t},set exports(t){$t=t}});var qt=$t;function te(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}var ee,ne=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),c=i.length;c--;){var a=i[ee?c:++r];if(!1===e(o[a],a,o))break}return t};function re(t){return d(t)&&"[object Arguments]"==y(t)}var oe=Object.prototype,ie=oe.hasOwnProperty,ce=oe.propertyIsEnumerable,ae=re(function(){return arguments}())?re:function(t){return d(t)&&ie.call(t,"callee")&&!ce.call(t,"callee")},ue=ae;var ge="object"==typeof exports&&exports&&!exports.nodeType&&exports,le=ge&&"object"==typeof module&&module&&!module.nodeType&&module,se=le&&le.exports===ge?u.Buffer:void 0,Ce=(se?se.isBuffer:void 0)||function(){return!1},fe=9007199254740991,Ie=/^(?:0|[1-9]\d*)$/;function Ae(t,e){var n=typeof t;return!!(e=null==e?fe:e)&&("number"==n||"symbol"!=n&&Ie.test(t))&&t>-1&&t%1==0&&t<e}var pe=9007199254740991;function he(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=pe}var ye={};ye["[object Float32Array]"]=ye["[object Float64Array]"]=ye["[object Int8Array]"]=ye["[object Int16Array]"]=ye["[object Int32Array]"]=ye["[object Uint8Array]"]=ye["[object Uint8ClampedArray]"]=ye["[object Uint16Array]"]=ye["[object Uint32Array]"]=!0,ye["[object Arguments]"]=ye["[object Array]"]=ye["[object ArrayBuffer]"]=ye["[object Boolean]"]=ye["[object DataView]"]=ye["[object Date]"]=ye["[object Error]"]=ye["[object Function]"]=ye["[object Map]"]=ye["[object Number]"]=ye["[object Object]"]=ye["[object RegExp]"]=ye["[object Set]"]=ye["[object String]"]=ye["[object WeakMap]"]=!1;var de="object"==typeof exports&&exports&&!exports.nodeType&&exports,ve=de&&"object"==typeof module&&module&&!module.nodeType&&module,be=ve&&ve.exports===de&&c.process,me=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||be&&be.binding&&be.binding("util")}catch(t){}}(),we=me&&me.isTypedArray,Ze=we?function(t){return function(e){return t(e)}}(we):function(t){return d(t)&&he(t.length)&&!!ye[y(t)]},je=Ze,Ge=Object.prototype.hasOwnProperty;function Ke(t,e){var n=i(t),r=!n&&ue(t),o=!n&&!r&&Ce(t),c=!n&&!r&&!o&&je(t),a=n||r||o||c,u=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],g=u.length;for(var l in t)!e&&!Ge.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||c&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ae(l,g))||u.push(l);return u}var xe=Object.prototype;function Xe(t,e){return function(n){return t(e(n))}}var We=Xe(Object.keys,Object),_e=Object.prototype.hasOwnProperty;function Se(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||xe))return We(t);var e,n,r=[];for(var o in Object(t))_e.call(t,o)&&"constructor"!=o&&r.push(o);return r}function Be(t){return null!=t&&he(t.length)&&!X(t)}function Ve(t){return Be(t)?Ke(t):Se(t)}var Ye=function(t,e){return function(n,r){if(null==n)return n;if(!Be(n))return t(n,r);for(var o=n.length,i=e?o:-1,c=Object(n);(e?i--:++i<o)&&!1!==r(c[i],i,c););return n}}((function(t,e){return t&&ne(t,e,Ve)})),ke=Ye;function Ne(t){return t}function Je(t,e){var n;return(i(t)?te:ke)(t,"function"==typeof(n=e)?n:Ne)}function Oe(t){return"[object ArrayBuffer]"===Object.prototype.toString.call(t)}function Re(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)}function Le(t){return"[object Uint16Array]"===Object.prototype.toString.call(t)}function ze(t){if(!(Oe(t)||(e=t,"[object Blob]"===Object.prototype.toString.call(e))||Re(t)||Le(t)))return null;var e;try{if(t.byteLength)return t.byteLength}catch(t){}try{if(t.length)return t.length}catch(t){}try{if(t.size)return t.size}catch(t){}return null}var He=Xe(Object.getPrototypeOf,Object),Ue="[object Object]",Fe=Function.prototype,Te=Object.prototype,Pe=Fe.toString,Qe=Te.hasOwnProperty,Ee=Pe.call(Object);var Me="[object DOMException]",De="[object Error]";function $e(t){if(!d(t))return!1;var e=y(t);return e==De||e==Me||"string"==typeof t.message&&"string"==typeof t.name&&!function(t){if(!d(t)||y(t)!=Ue)return!1;var e=He(t);if(null===e)return!0;var n=Qe.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==Ee}(t)}var qe={};var tn,en={},nn={get exports(){return en},set exports(t){en=t}};function rn(){return tn||(tn=1,function(t,e){var n;t.exports=(n=n||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==Dt&&Dt.crypto&&(n=Dt.crypto),!n)try{n=require("crypto")}catch(t){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),i={},c=i.lib={},a=c.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=a.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,o=t.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var c=n[i>>>2]>>>24-i%4*8&255;e[r+i>>>2]|=c<<24-(r+i)%4*8}else for(var a=0;a<o;a+=4)e[r+a>>>2]=n[a>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(r());return new u.init(e,t)}}),g=i.enc={},l=g.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new u.init(n,e/2)}},s=g.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new u.init(n,e)}},C=g.Utf8={stringify:function(t){try{return decodeURIComponent(escape(s.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return s.parse(unescape(encodeURIComponent(t)))}},f=c.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=C.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,o=r.words,i=r.sigBytes,c=this.blockSize,a=i/(4*c),g=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*c,l=t.min(4*g,i);if(g){for(var s=0;s<g;s+=c)this._doProcessBlock(o,s);n=o.splice(0,g),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});c.Hasher=f.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new I.HMAC.init(t,n).finalize(e)}}});var I=i.algo={};return i}(Math),n)}(nn)),en}!function(t,e){t.exports=rn().enc.Utf8}({get exports(){return qe},set exports(t){qe=t}});var on=qe,cn={};!function(t,e){var n;t.exports=(n=rn(),function(){var t=n,e=t.lib.WordArray;function r(t,n,r){for(var o=[],i=0,c=0;c<n;c++)if(c%4){var a=r[t.charCodeAt(c-1)]<<c%4*2|r[t.charCodeAt(c)]>>>6-c%4*2;o[i>>>2]|=a<<24-i%4*8,i++}return e.create(o,i)}t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var o=[],i=0;i<n;i+=3)for(var c=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(r.charAt(c>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(t){var e=t.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var c=n.charAt(64);if(c){var a=t.indexOf(c);-1!==a&&(e=a)}return r(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)}({get exports(){return cn},set exports(t){cn=t}});var an=cn;function un(t){if(!vt(t))return new Uint8Array;let e;try{e=function(t){if(!dt(t))return new Uint8Array;let e=an.parse(t),n=e.words,r=e.sigBytes,o=new Uint8Array(r);for(let t=0;t<r;t++){let e=n[t>>>2]>>>24-t%4*8&255;o[t]=e}return o}(function(t){if(!vt(t))return"";let e=on.parse(t);return an.stringify(e)}(t))}catch(t){return new Uint8Array}return e}function gn(t,e){return function(t,e,n,r,o,i){if(!Yt(t))return null;if(!Re(e))return null;if(!Nt(n))return null;if(!Et(r))return null;if(!Nt(o))return null;if(!Nt(i))return null;let c,a,u;t=kt(t);let g=8*i-o-1,l=(1<<g)-1,s=l>>1,C=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?i-1:0,I=r?-1:1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,c=l):(c=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-c))<1&&(c--,u*=2),(t+=c+s>=1?C/u:C*Math.pow(2,1-s))*u>=2&&(c++,u/=2),c+s>=l?(a=0,c=l):c+s>=1?(a=(t*u-1)*Math.pow(2,o),c+=s):(a=t*Math.pow(2,s-1)*Math.pow(2,o),c=0));o>=8;e[n+f]=255&a,f+=I,a/=256,o-=8);for(c=c<<o|a,g+=o;g>0;e[n+f]=255&c,f+=I,c/=256,g-=8);return e[n+f-I]|=128*A,null}(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:52,arguments.length>5&&void 0!==arguments[5]?arguments[5]:8)}function ln(t){let e=[],n=[];if(!Pt(t)&&!yt(t))return null;let r=[],o=[];function i(t){r.push(ze(t)),o.push(t)}try{let c=function(t){if(!ht(t))return{results:"",binarys:[]};if(Ft(t))return{results:"",binarys:[]};let e="",n=[];try{let r=-1;e=JSON.stringify(t,(function(t,e){if(Re(e)){r+=1;let t=`[Uint8Array]::${r}`;return n.push(e),t}if(Le(e)){r+=1;let t=`[Uint16Array]::${r}`;return n.push(e),t}if(Oe(e)){r+=1;let t=`[ArrayBuffer]::${r}`;return n.push(e),t}return $e(e)&&(e=e.toString()),e}))}catch(t){}return{results:e,binarys:n}}(t);i(un(c.results)),Je(c.binarys,(t=>{i(t)}));let a=r,u=un(JSON.stringify(a)),g=new Uint8Array(8);gn(ze(u),g),e.push(g),e.push(u),Je(o,(t=>{e.push(t)})),Je(e,(t=>{n=function(t,e){let n=ze(t),r=ze(e),o=new Uint8Array(n+r);return o.set(new Uint8Array(t),0),o.set(new Uint8Array(e),n),o}(n,t)}))}catch(t){return null}return n}function sn(t){return function(t,e,n,r,o){if(!Re(t))return null;if(!Nt(e))return null;if(!Et(n))return null;if(!Nt(r))return null;if(!Nt(o))return null;let i,c,a=8*o-r-1,u=(1<<a)-1,g=u>>1,l=-7,s=n?0:o-1,C=n?1:-1,f=t[e+s];for(s+=C,i=f&(1<<-l)-1,f>>=-l,l+=a;l>0;i=256*i+t[e+s],s+=C,l-=8);for(c=i&(1<<-l)-1,i>>=-l,l+=r;l>0;c=256*c+t[e+s],s+=C,l-=8);if(0===i)i=1-g;else{if(i===u)return c?NaN:1/0*(f?-1:1);c+=Math.pow(2,r),i-=g}return(f?-1:1)*c*Math.pow(2,i-r)}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:52,arguments.length>4&&void 0!==arguments[4]?arguments[4]:8)}var Cn={};!function(t,e){var n;t.exports=(n=rn(),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init,r=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,r=[],o=0;o<n;o++)r[o>>>2]|=t[o]<<24-o%4*8;e.call(this,r,n)}else e.apply(this,arguments)};r.prototype=t}}(),n.lib.WordArray)}({get exports(){return Cn},set exports(t){Cn=t}});var fn=Cn;function In(t){if(!Re(t))return"";let e;try{n=function(t){return Re(t)?fn.create(t).toString(an):""}(t),e=vt(n)?an.parse(n).toString(on):""}catch(t){return""}var n;return e}function An(t){let e=null;if(!Re(t))return null;try{let n=8,r=t.slice(0,n),o=t.slice(n,ze(t)),i=sn(r),c=o.slice(0,i),a=o.slice(i,ze(o)),u=In(c),g=function(t,e){let n=0,r=0,o=[];return Je(e,(e=>{r=n+e;let i=t.slice(n,r);n=r,o.push(i)})),o}(a,JSON.parse(u));e=function(t){if(!yt(t))return{};let{results:e,binarys:n}=t;if(!vt(e))return{};if(!Ut(n))return{};let r={};try{r=JSON.parse(e,(function(t,e){if(vt(e)){if(e.indexOf("[Uint8Array]::")>=0){let t=zt(e.replace("[Uint8Array]::",""));return n[t]}if(e.indexOf("[Uint16Array]::")>=0){let t=zt(e.replace("[Uint16Array]::",""));return n[t]}if(e.indexOf("[ArrayBuffer]::")>=0){let t=zt(e.replace("[ArrayBuffer]::",""));return n[t]}}return e}))}catch(t){}return r}({results:In(g.shift()),binarys:g})}catch(t){}return e}function pn(e){return!!t.existsSync(e)&&(!t.lstatSync(e).isFile()&&!t.lstatSync(e).isSymbolicLink())}var hn={};!function(t,e){t.exports=function(t){var e={};!function(e,n){e.exports=function(t){var e={};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,c){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||t,c),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function c(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,c=new Array(i);o<i;o++)c[o]=r[o].fn;return c},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,o,i,c){var a=n?n+t:t;if(!this._events[a])return!1;var u,g,l=this._events[a],s=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),s){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,c),!0}for(g=1,u=new Array(s-1);g<s;g++)u[g-1]=arguments[g];l.fn.apply(l.context,u)}else{var C,f=l.length;for(g=0;g<f;g++)switch(l[g].once&&this.removeListener(t,l[g].fn,void 0,!0),s){case 1:l[g].fn.call(l[g].context);break;case 2:l[g].fn.call(l[g].context,e);break;case 3:l[g].fn.call(l[g].context,e,r);break;case 4:l[g].fn.call(l[g].context,e,r,o);break;default:if(!u)for(C=1,u=new Array(s-1);C<s;C++)u[C-1]=arguments[C];l[g].fn.apply(l[g].context,u)}}return!0},a.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return c(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||r&&a.context!==r||c(this,i);else{for(var u=0,g=[],l=a.length;u<l;u++)(a[u].fn!==e||o&&!a[u].once||r&&a[u].context!==r)&&g.push(a[u]);g.length?this._events[i]=1===g.length?g[0]:g:c(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&c(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}({get exports(){return e},set exports(t){e=t}});var n=e;let r;!function(){if("nodejs"!=("undefined"!=typeof window&&void 0!==window.document?"browser":"nodejs"))return null;let e=(o="CgogICAgICAgIC8vaW1wb3J0IHsgcGFyZW50UG9ydCB9IGZyb20gJ3dvcmtlcl90aHJlYWRzJwogICAgICAgIGxldCB7IHBhcmVudFBvcnQgfSA9IHJlcXVpcmUoJ3dvcmtlcl90aHJlYWRzJykgLy/lm6BwYWNrYWdlLmpzb27kuI3ntaZ0eXBlPW1vZHVsZeaVheeEoeazleaUr+aPtGVzNiBpbXBvcnQsIOW+l+S9v+eUqHJlcXVpcmUKICAgICAgICAvL+iLpeimgeaWvG5vZGVqcyB3b3JrZXLlhafkvb/nlKjnhKHms5Xnt6jora/nmoTljp/nlJ/lpZfku7bkvovlpoJmcywg6YG/5YWN5L2/55So6aCC5bGkaW1wb3J05Yqg6LyJ5L2/55SoLCDlm6DnhKHms5Xnt6jora/mnIPnm7TmjqXkv53nlZkKICAgICAgICAvL+S4puWboGltcG9ydOS9jeaWvHdvcmtlcuWkluWxpOmZkOWumueCunJlcXVpcmXljYAocGFja2FnZS5qc29u5LiN57WmdHlwZT1tb2R1bGUpLCDmlYXlh7rnj77pjK/oqqTnhKHms5Xnt6jora8KICAgICAgICAKCiJ1c2Ugc3RyaWN0Ijt2YXIgZT1yZXF1aXJlKCJwYXRoIiksdD1yZXF1aXJlKCJmcyIpO2Z1bmN0aW9uIHIoZSl7cmV0dXJuISghZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgU3RyaW5nXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9KGUpfHwiIj09PWUpfWZ1bmN0aW9uIG4oZSl7cmV0dXJuISF0LmV4aXN0c1N5bmMoZSkmJighdC5sc3RhdFN5bmMoZSkuaXNEaXJlY3RvcnkoKSYmIXQubHN0YXRTeW5jKGUpLmlzU3ltYm9saWNMaW5rKCkpfWZ1bmN0aW9uIGkoZSl7aWYoIXQuZXhpc3RzU3luYyhlKSlyZXR1cm57c3VjY2VzczoiZmlsZSBkb2VzIG5vdCBleGlzdDogIitlfTtpZighbihlKSlyZXR1cm57ZXJyb3I6ImlucHV0IHBhdGggaXMgbm90IGEgZmlsZTogIitlfTt0cnl7dC51bmxpbmtTeW5jKGUpfWNhdGNoKGUpe3JldHVybntlcnJvcjplfX1yZXR1cm57c3VjY2VzczoiZG9uZTogIitlfX1sZXQgbWVyZ2VGaWxlcz1hc3luYyhjLHMsbyx1KT0+e2xldCBhPSIiLGw9ZS5qb2luKGMscyksZj10LmNyZWF0ZVdyaXRlU3RyZWFtKGwpO3RyeXtmb3IobGV0IHI9MDtyPG87cisrKXtsZXQgbz1yLGE9ZS5qb2luKGMsYCR7c31fJHtvfWApO2lmKCFuKGEpKXRocm93IG5ldyBFcnJvcihgbWlzc2luZyBjaHVuayAke3J9IG9mIGZpbGVuYW1lWyR7dX1dYCk7bGV0IGw9dC5yZWFkRmlsZVN5bmMoYSk7Zi53cml0ZShsKSxpKGEpfX1jYXRjaChlKXthPWUubWVzc2FnZX1yZXR1cm4gZi5lbmQoKSxyKGEpP1Byb21pc2UucmVqZWN0KGEpOntmaWxlbmFtZTp1LHBhdGg6bH19OwoKCmxldCBpbnN0YW5jZSA9IG51bGwKZnVuY3Rpb24gaW5pdChpbnB1dCl7CgogICAgLy9pbml0CiAgICBsZXQgcgogICAgCiAgICAgICAgciA9IHsKICAgICAgICAgICAgbWFpbjogbWVyZ2VGaWxlcwogICAgICAgIH0KICAgICAgICAKCiAgICAvL29uCiAgICAKCiAgICAvL3NhdmUKICAgIGluc3RhbmNlID0gcgoKfQoKZnVuY3Rpb24gc2VuZE1lc3NhZ2UoZGF0YSkgewogICAgCiAgICAgICAgcGFyZW50UG9ydC5wb3N0TWVzc2FnZShkYXRhKQogICAgICAgIAp9Cgphc3luYyBmdW5jdGlvbiBydW4oZGF0YSkgewogICAgLy8gY29uc29sZS5sb2coJ2lubmVyIHdvcmtlciBydW4nLGRhdGEpCgogICAgLy9tb2RlCiAgICBsZXQgbW9kZSA9IGRhdGEubW9kZQoKICAgIC8vY2hlY2sKICAgIGlmKG1vZGUgIT09ICdpbml0JyAmJiBtb2RlICE9PSAnY2FsbCcpewogICAgICAgIHJldHVybgogICAgfQoKICAgIC8vaW5pdAogICAgaWYobW9kZSA9PT0gJ2luaXQnKXsKICAgICAgICAKICAgICAgICB0cnl7CgogICAgICAgICAgICAvL3R5cGUKICAgICAgICAgICAgbGV0IHR5cGUgPSBkYXRhLnR5cGUKCiAgICAgICAgICAgIC8vaW5wdXQKICAgICAgICAgICAgbGV0IGlucHV0ID0gZGF0YS5pbnB1dAogICAgCiAgICAgICAgICAgIC8vaW5zdGFuY2UKICAgICAgICAgICAgaWYodHlwZSA9PT0gJ2Z1bmN0aW9uJyl7CiAgICAgICAgICAgICAgICBpbml0KC4uLmlucHV0KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYodHlwZSA9PT0gJ29iamVjdCcpewogICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBtZXJnZUZpbGVzCiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgICAgIGNhdGNoKGVycil7CiAgICAgICAgCiAgICAgICAgICAgIC8vc2VuZE1lc3NhZ2UKICAgICAgICAgICAgbGV0IHJlcyA9IHsKICAgICAgICAgICAgICAgIG1vZGU6ICdlbWl0JywKICAgICAgICAgICAgICAgIGV2TmFtZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgIG1zZzogZXJyLAogICAgICAgICAgICB9CiAgICAgICAgICAgIHNlbmRNZXNzYWdlKHJlcykKCiAgICAgICAgfQogICAgICAgICAgICAKICAgIH0KCiAgICAvL2NoZWNrCiAgICBpZihtb2RlID09PSAnY2FsbCcpewogICAgICAgIGxldCBzdGF0ZSA9ICcnCiAgICAgICAgbGV0IG1zZyA9IG51bGwKCiAgICAgICAgdHJ5ewoKICAgICAgICAgICAgLy9mdW4KICAgICAgICAgICAgbGV0IGZ1biA9IGluc3RhbmNlW2RhdGEuZnVuXQoKICAgICAgICAgICAgLy9pbnB1dAogICAgICAgICAgICBsZXQgaW5wdXQgPSBkYXRhLmlucHV0CgogICAgICAgICAgICAvL2V4ZWMKICAgICAgICAgICAgYXdhaXQgZnVuKC4uLmlucHV0KQogICAgICAgICAgICAgICAgLnRoZW4oKHN1YykgPT4gewogICAgICAgICAgICAgICAgICAgIHN0YXRlPSdzdWNjZXNzJwogICAgICAgICAgICAgICAgICAgIG1zZz1zdWMKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgICAgIHN0YXRlPSdlcnJvcicKICAgICAgICAgICAgICAgICAgICBtc2c9ZXJyCiAgICAgICAgICAgICAgICB9KQoKICAgICAgICB9CiAgICAgICAgY2F0Y2goZXJyKXsKICAgICAgICAgICAgc3RhdGUgPSAnZXJyb3InCiAgICAgICAgICAgIG1zZyA9IGVycgogICAgICAgIH0KICAgICAgICAKICAgICAgICAvL3NlbmRNZXNzYWdlCiAgICAgICAgbGV0IHJlcyA9IHsKICAgICAgICAgICAgbW9kZTogJ3JldHVybicsCiAgICAgICAgICAgIGlkOiBkYXRhLmlkLAogICAgICAgICAgICBmdW46IGRhdGEuZnVuLAogICAgICAgICAgICBzdGF0ZSwKICAgICAgICAgICAgbXNnLAogICAgICAgIH0KICAgICAgICBzZW5kTWVzc2FnZShyZXMpCgogICAgfQoKfQoKZnVuY3Rpb24gcmVjdk1lc3NhZ2UoZGF0YSkgewogICAgLy8gY29uc29sZS5sb2coJ2lubmVyIHdvcmtlciByZWN2OicsIGRhdGEpCgogICAgLy9kYXRhUmVjdgogICAgbGV0IGRhdGFSZWN2ID0gZGF0YQoKICAgIC8vcnVuCiAgICBydW4oZGF0YVJlY3YpCgp9CgoKICAgICAgICBwYXJlbnRQb3J0Lm9uKCdtZXNzYWdlJywgcmVjdk1lc3NhZ2UpCiAgICAgICAgCgp0cnl7CiAgICBwcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCAoZXJyKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ2lubmVyOnVuaGFuZGxlZFJlamVjdGlvbicsIGVycikKICAgIH0pCiAgICBwcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIChlcnIpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnaW5uZXI6dW5jYXVnaHRFeGNlcHRpb24nLCBlcnIpCiAgICB9KQogICAgcHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb25Nb25pdG9yJywgKGVycikgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdpbm5lcjp1bmNhdWdodEV4Y2VwdGlvbk1vbml0b3InLCBlcnIpCiAgICB9KQp9CmNhdGNoKGVycil7fQoK",Buffer.from(o,"base64").toString("utf8"));var o;function i(){let r=new n,o=function(e){try{return new t.Worker(e,{eval:!0})}catch(t){c(t)}}(e);if(!o)return c("invalid worker"),null;function i(){let t=function(){let t,e,n=new Promise((function(){t=arguments[0],e=arguments[1]}));return n.resolve=t,n.reject=e,n}(),e=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=[],n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=n.length;for(let o=0;o<t;o++)e[o]=n[0|Math.random()*r];return e.join("")}(),n={mode:"call",id:e,fun:"main",input:[...arguments]};return o.postMessage(n),r.once(e,(e=>{"success"===e.state?t.resolve(e.msg):t.reject(e.msg)})),t}function c(t){r.emit("error",t)}return o.on("message",(function(t){let e=t,n=e.mode;"emit"!==n&&"return"!==n||("emit"===n&&r.emit(e.evName,e.msg),"return"===n&&r.emit(e.id,e))})),o.on("error",c),o.on("exit",(t=>{1!==t&&c("exit code["+t+"] !== 1")})),function(){let t={mode:"init",type:"function",input:[...arguments]};o.postMessage(t)}([...arguments]),r.main=i,r.main=i,r.terminate=function(){o?(o.terminate(),o=void 0):c("worker has been terminated")},r}r=async function(){let t=[...arguments],e=i();return await e.main(...t).finally((()=>{e.terminate()}))}}();try{process.on("unhandledRejection",(t=>{console.log("outer:unhandledRejection",t)})),process.on("uncaughtException",(t=>{console.log("outer:uncaughtException",t)})),process.on("uncaughtExceptionMonitor",(t=>{console.log("outer:uncaughtExceptionMonitor",t)}))}catch(t){}return r}(t)}({get exports(){return e},set exports(t){e=t}});var n=e,r={};!function(t,e){t.exports=function(){const t="function"==typeof Buffer,e="function"==typeof TextDecoder?new TextDecoder:void 0,n=(t=>{let e={};return t.forEach(((t,n)=>e[t]=n)),e})(("function"==typeof TextEncoder&&new TextEncoder,Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="))),r=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,o=String.fromCharCode.bind(String),i="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),c=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),a=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,u=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return o(55296+(e>>>10))+o(56320+(1023&e));case 3:return o((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return o((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},g=t=>t.replace(a,u),l=t=>{if(t=t.replace(/\s+/g,""),!r.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,i,c,a="";for(let r=0;r<t.length;)e=n[t.charAt(r++)]<<18|n[t.charAt(r++)]<<12|(i=n[t.charAt(r++)])<<6|(c=n[t.charAt(r++)]),a+=64===i?o(e>>16&255):64===c?o(e>>16&255,e>>8&255):o(e>>16&255,e>>8&255,255&e);return a},s="function"==typeof atob?t=>atob(c(t)):t?t=>Buffer.from(t,"base64").toString("binary"):l,C=t?t=>i(Buffer.from(t,"base64")):t=>i(s(t).split("").map((t=>t.charCodeAt(0)))),f=t?t=>Buffer.from(t,"base64").toString("utf8"):e?t=>e.decode(C(t)):t=>g(s(t)),I=t=>c(t.replace(/[-_]/g,(t=>"-"==t?"+":"/"))),A=t=>f(I(t)),p=A;var h={};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,c){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||t,c),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function c(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,c=new Array(i);o<i;o++)c[o]=r[o].fn;return c},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,o,i,c){var a=n?n+t:t;if(!this._events[a])return!1;var u,g,l=this._events[a],s=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),s){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,c),!0}for(g=1,u=new Array(s-1);g<s;g++)u[g-1]=arguments[g];l.fn.apply(l.context,u)}else{var C,f=l.length;for(g=0;g<f;g++)switch(l[g].once&&this.removeListener(t,l[g].fn,void 0,!0),s){case 1:l[g].fn.call(l[g].context);break;case 2:l[g].fn.call(l[g].context,e);break;case 3:l[g].fn.call(l[g].context,e,r);break;case 4:l[g].fn.call(l[g].context,e,r,o);break;default:if(!u)for(C=1,u=new Array(s-1);C<s;C++)u[C-1]=arguments[C];l[g].fn.apply(l[g].context,u)}}return!0},a.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return c(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||r&&a.context!==r||c(this,i);else{for(var u=0,g=[],l=a.length;u<l;u++)(a[u].fn!==e||o&&!a[u].once||r&&a[u].context!==r)&&g.push(a[u]);g.length?this._events[i]=1===g.length?g[0]:g:c(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&c(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}({get exports(){return h},set exports(t){h=t}});var y=h;let d;!function(){if("browser"!=("undefined"!=typeof window&&void 0!==window.document?"browser":"nodejs"))return null;let t=p("CgoKInVzZSBzdHJpY3QiO3ZhciBlPXJlcXVpcmUoInBhdGgiKSx0PXJlcXVpcmUoImZzIik7ZnVuY3Rpb24gcihlKXtyZXR1cm4hKCFmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBTdHJpbmddIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0oZSl8fCIiPT09ZSl9ZnVuY3Rpb24gbihlKXtyZXR1cm4hIXQuZXhpc3RzU3luYyhlKSYmKCF0LmxzdGF0U3luYyhlKS5pc0RpcmVjdG9yeSgpJiYhdC5sc3RhdFN5bmMoZSkuaXNTeW1ib2xpY0xpbmsoKSl9ZnVuY3Rpb24gaShlKXtpZighdC5leGlzdHNTeW5jKGUpKXJldHVybntzdWNjZXNzOiJmaWxlIGRvZXMgbm90IGV4aXN0OiAiK2V9O2lmKCFuKGUpKXJldHVybntlcnJvcjoiaW5wdXQgcGF0aCBpcyBub3QgYSBmaWxlOiAiK2V9O3RyeXt0LnVubGlua1N5bmMoZSl9Y2F0Y2goZSl7cmV0dXJue2Vycm9yOmV9fXJldHVybntzdWNjZXNzOiJkb25lOiAiK2V9fWxldCBtZXJnZUZpbGVzPWFzeW5jKGMscyxvLHUpPT57bGV0IGE9IiIsbD1lLmpvaW4oYyxzKSxmPXQuY3JlYXRlV3JpdGVTdHJlYW0obCk7dHJ5e2ZvcihsZXQgcj0wO3I8bztyKyspe2xldCBvPXIsYT1lLmpvaW4oYyxgJHtzfV8ke299YCk7aWYoIW4oYSkpdGhyb3cgbmV3IEVycm9yKGBtaXNzaW5nIGNodW5rICR7cn0gb2YgZmlsZW5hbWVbJHt1fV1gKTtsZXQgbD10LnJlYWRGaWxlU3luYyhhKTtmLndyaXRlKGwpLGkoYSl9fWNhdGNoKGUpe2E9ZS5tZXNzYWdlfXJldHVybiBmLmVuZCgpLHIoYSk/UHJvbWlzZS5yZWplY3QoYSk6e2ZpbGVuYW1lOnUscGF0aDpsfX07CgoKbGV0IGluc3RhbmNlID0gbnVsbApmdW5jdGlvbiBpbml0KGlucHV0KXsKCiAgICAvL2luaXQKICAgIGxldCByCiAgICAKICAgICAgICByID0gewogICAgICAgICAgICBtYWluOiBtZXJnZUZpbGVzCiAgICAgICAgfQogICAgICAgIAoKICAgIC8vb24KICAgIAoKICAgIC8vc2F2ZQogICAgaW5zdGFuY2UgPSByCgp9CgpmdW5jdGlvbiBzZW5kTWVzc2FnZShkYXRhKSB7CiAgICAKICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKGRhdGEpCiAgICAgICAgCn0KCmFzeW5jIGZ1bmN0aW9uIHJ1bihkYXRhKSB7CiAgICAvLyBjb25zb2xlLmxvZygnaW5uZXIgd29ya2VyIHJ1bicsZGF0YSkKCiAgICAvL21vZGUKICAgIGxldCBtb2RlID0gZGF0YS5tb2RlCgogICAgLy9jaGVjawogICAgaWYobW9kZSAhPT0gJ2luaXQnICYmIG1vZGUgIT09ICdjYWxsJyl7CiAgICAgICAgcmV0dXJuCiAgICB9CgogICAgLy9pbml0CiAgICBpZihtb2RlID09PSAnaW5pdCcpewogICAgICAgIAogICAgICAgIHRyeXsKCiAgICAgICAgICAgIC8vdHlwZQogICAgICAgICAgICBsZXQgdHlwZSA9IGRhdGEudHlwZQoKICAgICAgICAgICAgLy9pbnB1dAogICAgICAgICAgICBsZXQgaW5wdXQgPSBkYXRhLmlucHV0CiAgICAKICAgICAgICAgICAgLy9pbnN0YW5jZQogICAgICAgICAgICBpZih0eXBlID09PSAnZnVuY3Rpb24nKXsKICAgICAgICAgICAgICAgIGluaXQoLi4uaW5wdXQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZih0eXBlID09PSAnb2JqZWN0Jyl7CiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IG1lcmdlRmlsZXMKICAgICAgICAgICAgfQoKICAgICAgICB9CiAgICAgICAgY2F0Y2goZXJyKXsKICAgICAgICAKICAgICAgICAgICAgLy9zZW5kTWVzc2FnZQogICAgICAgICAgICBsZXQgcmVzID0gewogICAgICAgICAgICAgICAgbW9kZTogJ2VtaXQnLAogICAgICAgICAgICAgICAgZXZOYW1lOiAnZXJyb3InLAogICAgICAgICAgICAgICAgbXNnOiBlcnIsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2VuZE1lc3NhZ2UocmVzKQoKICAgICAgICB9CiAgICAgICAgICAgIAogICAgfQoKICAgIC8vY2hlY2sKICAgIGlmKG1vZGUgPT09ICdjYWxsJyl7CiAgICAgICAgbGV0IHN0YXRlID0gJycKICAgICAgICBsZXQgbXNnID0gbnVsbAoKICAgICAgICB0cnl7CgogICAgICAgICAgICAvL2Z1bgogICAgICAgICAgICBsZXQgZnVuID0gaW5zdGFuY2VbZGF0YS5mdW5dCgogICAgICAgICAgICAvL2lucHV0CiAgICAgICAgICAgIGxldCBpbnB1dCA9IGRhdGEuaW5wdXQKCiAgICAgICAgICAgIC8vZXhlYwogICAgICAgICAgICBhd2FpdCBmdW4oLi4uaW5wdXQpCiAgICAgICAgICAgICAgICAudGhlbigoc3VjKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgc3RhdGU9J3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgbXNnPXN1YwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgc3RhdGU9J2Vycm9yJwogICAgICAgICAgICAgICAgICAgIG1zZz1lcnIKICAgICAgICAgICAgICAgIH0pCgogICAgICAgIH0KICAgICAgICBjYXRjaChlcnIpewogICAgICAgICAgICBzdGF0ZSA9ICdlcnJvcicKICAgICAgICAgICAgbXNnID0gZXJyCiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vc2VuZE1lc3NhZ2UKICAgICAgICBsZXQgcmVzID0gewogICAgICAgICAgICBtb2RlOiAncmV0dXJuJywKICAgICAgICAgICAgaWQ6IGRhdGEuaWQsCiAgICAgICAgICAgIGZ1bjogZGF0YS5mdW4sCiAgICAgICAgICAgIHN0YXRlLAogICAgICAgICAgICBtc2csCiAgICAgICAgfQogICAgICAgIHNlbmRNZXNzYWdlKHJlcykKCiAgICB9Cgp9CgpmdW5jdGlvbiByZWN2TWVzc2FnZShkYXRhKSB7CiAgICAvLyBjb25zb2xlLmxvZygnaW5uZXIgd29ya2VyIHJlY3Y6JywgZGF0YSkKCiAgICAvL2RhdGFSZWN2CiAgICBsZXQgZGF0YVJlY3YgPSBkYXRhCgogICAgLy9ydW4KICAgIHJ1bihkYXRhUmVjdikKCn0KCgogICAgICAgIHNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmVjdk1lc3NhZ2UoZS5kYXRhKQogICAgICAgIH0KICAgICAgICAKCnRyeXsKICAgIHByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIChlcnIpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnaW5uZXI6dW5oYW5kbGVkUmVqZWN0aW9uJywgZXJyKQogICAgfSkKICAgIHByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgKGVycikgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdpbm5lcjp1bmNhdWdodEV4Y2VwdGlvbicsIGVycikKICAgIH0pCiAgICBwcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbk1vbml0b3InLCAoZXJyKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ2lubmVyOnVuY2F1Z2h0RXhjZXB0aW9uTW9uaXRvcicsIGVycikKICAgIH0pCn0KY2F0Y2goZXJyKXt9Cgo=");function e(){let e=new y,n=function(t){try{let e=new Blob([t]),n=window.URL||window.webkitURL;return new Worker(n.createObjectURL(e))}catch(t){o(t)}}(t);if(!n)return o("invalid worker"),null;function r(){let t=function(){let t,e,n=new Promise((function(){t=arguments[0],e=arguments[1]}));return n.resolve=t,n.reject=e,n}(),r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=[],n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=n.length;for(let o=0;o<t;o++)e[o]=n[0|Math.random()*r];return e.join("")}(),o={mode:"call",id:r,fun:"main",input:[...arguments]};return n.postMessage(o),e.once(r,(e=>{"success"===e.state?t.resolve(e.msg):t.reject(e.msg)})),t}function o(t){e.emit("error",t)}return n.onmessage=function(t){!function(t){let n=t,r=n.mode;"emit"!==r&&"return"!==r||("emit"===r&&e.emit(n.evName,n.msg),"return"===r&&e.emit(n.id,n))}(t.data)},n.onerror=o,n.onmessageerror=function(t){o(t.data)},function(){let t={mode:"init",type:"function",input:[...arguments]};n.postMessage(t)}([...arguments]),e.main=r,e.main=r,e.terminate=function(){n?(n.terminate(),n=void 0):o("worker has been terminated")},e}d=async function(){let t=[...arguments],n=e();return await n.main(...t).finally((()=>{n.terminate()}))}}();try{process.on("unhandledRejection",(t=>{console.log("outer:unhandledRejection",t)})),process.on("uncaughtException",(t=>{console.log("outer:uncaughtException",t)})),process.on("uncaughtExceptionMonitor",(t=>{console.log("outer:uncaughtExceptionMonitor",t)}))}catch(t){}return d}()}({get exports(){return r},set exports(t){r=t}});var o=r;let i;return i="undefined"!=typeof window&&void 0!==window.document?o:n,i}(o)}({get exports(){return hn},set exports(t){hn=t}});var yn=hn;return function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=At(o,"port");var c;Nt(c=i)&&zt(c)>0||(i=8080);let a=At(o,"useInert");Et(a)||(a=!0);let u=At(o,"pathStaticFiles");vt(u)||(u="dist");let g=At(o,"apiName");vt(g)||(g="api");let l=`${g}slc`,s=At(o,"pathUploadTemp");vt(s)||(s="./uploadTemp"),pn(s)||function(e){if(pn(e))return{success:"input folder is already exists: "+e};if(t.existsSync(e))return{error:"input path already exists: "+e};try{t.mkdirSync(e,{recursive:!0})}catch(t){return{error:t}}}(s);let C=At(o,"funCheck");(function(t){let e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e})(C)||(C=()=>!0);let f=At(o,"corsOrigins",[]);Pt(f)||(f=["*"]);let I=At(o,"delayForBasic","");Ht(I)||(I=0),I=zt(I);let A=At(o,"delayForSlice","");Ht(A)||(A=100),A=zt(A);let p=null;p=At(o,"serverHapi")?o.serverHapi:n.server({port:i,routes:{timeout:{server:!1,socket:!1},cors:{origin:f,credentials:!1}}});let h=new qt,y=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];setTimeout((()=>{h.emit(t,...n)}),1)};function d(t,n){let r=new e.Readable;return r._read=()=>{},r.push(n),r.push(null),t.response(r).header("Cache-Control","no-cache, no-store, must-revalidate").header("Content-Type","application/octet-stream").header("Content-Length",r.readableLength)}let v={path:`/${g}`,method:"POST",options:{payload:{maxBytes:1099511627776,maxParts:1e9,timeout:!1,output:"stream",parse:!1},timeout:{server:!1,socket:!1}},handler:async function(t,n){let r=At(t,"headers");r=yt(r)?r:"";let o=At(t,"query");o=yt(o)?o:"";let i=At(r,"authorization","");i=vt(i)?i:"";{let t=C({apiType:"main",authorization:i,headers:r,query:o});if(Mt(t)&&(t=await t),!0!==t){return d(n,ln({error:"permission denied"}))}}y("handler",{api:"apiMain",headers:r,query:o});let c=await(()=>{let n=pt(),r=[],o=new e.Writable({write(t,e,n){r.push(t),setTimeout((()=>{n()}),I)}});return t.payload.pipe(o),t.payload.on("end",(()=>{let t=Buffer.concat(r);r=[],n.resolve(t)})),t.payload.on("error",(t=>{y("error","receive payload err"),n.reject(t.message)})),n})(),a=An(new Uint8Array(c)),u={};return await async function(t){let e=pt(),n=pt();n.then((n=>{t.output=n,delete t.input,e.resolve(t)})).catch((t=>{e.reject(t)}));{let e=At(t,"func",""),r=At(t,"input",null);y("execute",e,r,n)}return e}(a).then((function(t){u.success=t})).catch((function(t){u.error=t})),d(n,ln(u))}},b={path:`/${l}`,method:"POST",options:{payload:{maxBytes:1099511627776,maxParts:1e9,timeout:!1,output:"stream",parse:!1},timeout:{server:!1,socket:!1}},handler:async function(e,n){let r=At(e,"headers");r=yt(r)?r:"";let o=At(e,"query");o=yt(o)?o:"";let i=At(r,"authorization","");i=vt(i)?i:"";{let t=C({apiType:"slice",authorization:i,headers:r,query:o});if(Mt(t)&&(t=await t),!0!==t){return d(n,ln({error:"permission denied"}))}}y("handler",{api:"apiSlice",headers:r,query:o});let c=At(r,"chunk-index",""),a=At(r,"chunk-total",""),u=At(r,"package-id","");if(!Ht(c))return console.log("invalid chunkIndex in headers"),n.response({error:"invalid chunkIndex in headers"}).code(400);if(c=zt(c),!Ht(a))return console.log("invalid chunkTotal in headers"),n.response({error:"invalid chunkTotal in headers"}).code(400);if(a=zt(a),!vt(u))return console.log("invalid packageId in headers"),n.response({error:"invalid packageId in headers"}).code(400);let g=`${s}/${u}_${c}`,l=t.createWriteStream(g),f={};return await(()=>{let t=pt();return e.payload.pipe(l),e.payload.on("end",(()=>{setTimeout((()=>{t.resolve(`chunk[${c}/${a}] of packageId[${u}] done`)}),A)})),e.payload.on("error",(()=>{y("error",`receive chunk[${c+1}/${a}] err`),t.reject(`chunk[${c}/${a}] of packageId[${u}] err`)})),t})().then((function(t){f.success=t})).catch((function(t){f.error=t})),d(n,ln(f))}},m={path:`/${l}m`,method:"POST",options:{payload:{maxBytes:1099511627776,maxParts:1e9,timeout:!1,parse:!0},timeout:{server:!1,socket:!1}},handler:async function(t,e){let n=At(t,"headers");n=yt(n)?n:"";let r=At(t,"query");r=yt(r)?r:"";let o=At(n,"authorization","");o=vt(o)?o:"";{let t=C({apiType:"merge",authorization:o,headers:n,query:r});if(Mt(t)&&(t=await t),!0!==t){return d(e,ln({error:"permission denied"}))}}y("handler",{api:"apiSliceMerge",headers:n,query:r});let i=At(t,"payload.filename",""),c=At(t,"payload.chunk-total",""),a=At(t,"payload.package-id","");if(!vt(i))return console.log("invalid filename in payload"),e.response({error:"invalid filename in payload"}).code(400);if(!Ht(c))return console.log("invalid chunkTotal in payload"),e.response({error:"invalid chunkTotal in payload"}).code(400);if(c=zt(c),!vt(a))return console.log("invalid packageId in payload"),e.response({error:"invalid packageId in payload"}).code(400);let u={};return await(async()=>{let t=await yn(s,a,c,i);return await async function(t){let e=pt(),n=pt();return n.then((t=>{e.resolve(t)})).catch((t=>{e.reject(t)})),y("upload",t,n),e}(t)})().then((function(t){u.success=t})).catch((function(t){u.error=t})),d(e,ln(u))}};return At(o,"serverHapi")?p.route([v,b,m]):async function(){a&&await p.register(r);let t=[];if(a){let e={method:"GET",path:"/{file*}",handler:{directory:{path:`${u}/`}}};t=[...t,e]}t=[...t,v,b,m],p.route(t),await p.start(),console.log(`Server running at: ${p.info.uri}`)}(),h}}));
//# sourceMappingURL=w-converhp-server.umd.js.map
